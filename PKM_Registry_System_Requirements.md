# Πύλη Κοινωνικής Μέριμνας — Υποσύστημα Μητρώου Δομών & Ψηφιακής Εποπτείας

## Περιγραφή Συστήματος και Ανάλυση Απαιτήσεων

---

## 1. Πλαίσιο

### 1.1 Τι υπάρχει σήμερα στην Πύλη

Η Πύλη Κοινωνικής Μέριμνας είναι λειτουργικό πρωτότυπο με τρία υποσυστήματα:

- **Αρχείο Νομοθεσίας & Εγκυκλίων:** Ψηφιακή βιβλιοθήκη νομοθεσίας κοινωνικής μέριμνας με κατηγοριοποίηση και αναζήτηση πλήρους κειμένου. Τα έγγραφα αποθηκεύονται ως PDF/DOCX/TXT, κόβονται σε chunks, και ευρετηριάζονται με vector embeddings στο PostgreSQL/pgvector.
- **Forum Επαγγελματικής Ανταλλαγής:** Πλατφόρμα ανταλλαγής γνώσεων μεταξύ κοινωνικών λειτουργών με θεματικές ενότητες, νήματα συζήτησης, mentions, και συνημμένα.
- **AI Βοηθός Νομοθεσίας (Copilot):** RAG-based σύστημα αναζήτησης νομοθεσίας. Ο χρήστης κάνει ερώτηση σε φυσική γλώσσα, το σύστημα ανακτά σχετικά chunks από τη βάση γνώσης, και το LLM (OpenAI gpt-4o) απαντά με αναφορά πηγών.

**Τεχνική αρχιτεκτονική:** Flask backend, React/Vite/shadcn frontend, PostgreSQL 16 + pgvector, OpenAI API, Docker Compose. Authentication μέσω Flask-JWT-Extended.

**Τρέχοντα μοντέλα βάσης δεδομένων:** User, Document (αρχείο νομοθεσίας), DocumentIndex, FileChunk (vector search), ForumPost, ForumComment, Notification.

### 1.2 Τι λείπει — Το πρόβλημα

Οι Διευθύνσεις Κοινωνικής Μέριμνας σε επίπεδο Περιφερειακών Ενοτήτων ασκούν εποπτικό, ελεγκτικό και κυρωτικό έργο σε δομές παροχής κοινωνικής φροντίδας. Αυτό το έργο σήμερα εκτελείται εξ ολοκλήρου σε χαρτί και δεν υπάρχει κανένα ψηφιακό σύστημα που να το υποστηρίζει.

Συγκεκριμένα δεν υπάρχει:
- Ψηφιακό μητρώο δομών κοινωνικής φροντίδας
- Ψηφιακή παρακολούθηση αδειοδότησης και ανανέωσης αδειών
- Ψηφιακή καταχώρηση πρακτικών ελέγχου
- Ψηφιακή υποβολή εκθέσεων αξιολόγησης κοινωνικού συμβούλου
- Πίνακας ελέγχου (dashboard) εποπτικού έργου
- Ιχνηλασιμότητα ενεργειών και λογοδοσία

### 1.3 Τι πρέπει να γίνει

Προσθήκη τέταρτου υποσυστήματος: **Μητρώο Δομών Κοινωνικής Φροντίδας & Ψηφιακή Εποπτεία**. Αυτό θα ψηφιοποιήσει ολόκληρο τον κύκλο εποπτείας, από την εγγραφή δομής μέχρι την επιβολή κυρώσεων.

---

## 2. Τύποι Δομών Κοινωνικής Φροντίδας

Οι δομές που εποπτεύονται ανήκουν στις ακόλουθες κατηγορίες:

| Συντομογραφία | Πλήρες Όνομα | Περιγραφή |
|---|---|---|
| **ΜΦΗ** | Μονάδα Φροντίδας Ηλικιωμένων | Γηροκομεία, μονάδες χρόνιας φροντίδας ηλικιωμένων |
| **ΚΔΑΠ** | Κέντρο Δημιουργικής Απασχόλησης Παιδιών | Δομές δημιουργικής απασχόλησης για παιδιά σχολικής ηλικίας |
| **ΣΥΔ** | Στέγη Υποστηριζόμενης Διαβίωσης | Δομές αυτόνομης/ημιαυτόνομης διαβίωσης ΑμεΑ |
| **ΚΔΗΦ-ΚΑΑ** | Κέντρο Διημέρευσης - Ημερήσιας Φροντίδας / Κέντρο Αποθεραπείας - Αποκατάστασης | Δομές ημερήσιας φροντίδας και αποκατάστασης |
| **ΜΦΠΑΔ** | Μονάδα Φροντίδας Παιδιών και Ατόμων με Αναπηρία | Ιδρύματα/μονάδες φροντίδας για παιδιά και ΑμεΑ |
| **Παιδικές Κατασκηνώσεις** | Παιδικές Κατασκηνώσεις | Εποχικές δομές κατασκήνωσης |

> **Σημείωση:** Ο πίνακας δεν είναι εξαντλητικός. Το σύστημα πρέπει να υποστηρίζει προσθήκη νέων τύπων δομών χωρίς αλλαγή κώδικα (configurable structure types).

---

## 3. Ρόλοι Χρηστών

Το τρέχον σύστημα έχει ένα μοντέλο User χωρίς ουσιαστική διαφοροποίηση ρόλων. Το νέο υποσύστημα απαιτεί τουλάχιστον τους εξής ρόλους:

### 3.1 Κοινωνικός Σύμβουλος
Ο κοινωνικός λειτουργός που ασκεί εποπτικό ρόλο σε συγκεκριμένες δομές. Μπορεί να:
- Βλέπει τις δομές που του έχουν ανατεθεί
- Συντάσσει και υποβάλλει εκθέσεις αξιολόγησης μετά από τακτικό έλεγχο
- Βλέπει ιστορικό εκθέσεων και ελέγχων στις δομές του
- Χρησιμοποιεί τα υπόλοιπα υποσυστήματα (νομοθεσία, forum, AI)

### 3.2 Μέλος Επιτροπής Ελέγχου
Υπάλληλος που συμμετέχει σε επιτροπή ελέγχου δομών. Μπορεί να:
- Βλέπει τις δομές που η επιτροπή του οφείλει να ελέγξει
- Καταχωρεί πρακτικά ελέγχου
- Βλέπει ιστορικό ελέγχων

### 3.3 Διοικητικός / Γραμματεία
Υπάλληλος που χειρίζεται τη διοικητική πλευρά. Μπορεί να:
- Εγγράφει νέες δομές στο μητρώο
- Ορίζει επιτροπές ελέγχου και συνθέσεις
- Αναθέτει κοινωνικούς συμβούλους σε δομές
- Παρακολουθεί ημερομηνίες αδειοδότησης
- Εκδίδει/ανανεώνει άδειες λειτουργίας

### 3.4 Προϊστάμενος / Διευθυντής
Εποπτεύει συνολικά. Μπορεί να:
- Βλέπει dashboard με στατιστικά εποπτικού έργου
- Τρέχει αναφορές (πόσοι έλεγχοι, πόσες εκθέσεις, πόσα πρόστιμα)
- Βλέπει ποιες δομές εκκρεμούν, ποιες άδειες λήγουν
- Εγκρίνει ή επιστρέφει εκθέσεις αξιολόγησης
- Πλήρη πρόσβαση σε όλες τις λειτουργίες

### 3.5 Σχέση με υπάρχοντα ρόλο
Ένας χρήστης μπορεί να έχει πολλαπλούς ρόλους ταυτόχρονα. Π.χ. ένας κοινωνικός λειτουργός μπορεί να είναι κοινωνικός σύμβουλος σε ορισμένες δομές ΚΑΙ μέλος επιτροπής ελέγχου για άλλες. Όλοι οι ρόλοι έχουν πρόσβαση στα τρία υπάρχοντα υποσυστήματα (νομοθεσία, forum, AI).

> **Σημαντικό:** Σε μελλοντική φάση, αν το σύστημα γίνει πανελλαδικό, θα χρειαστεί και ιεραρχία ανά Περιφερειακή Ενότητα — κάθε Π.Ε. βλέπει μόνο τις δικές της δομές. Στο πρωτότυπο, αρκεί ένα flat μοντέλο (μία Π.Ε.).

---

## 4. Βασικές Οντότητες (Entities)

### 4.1 Δομή Κοινωνικής Φροντίδας (Structure)

Η κεντρική οντότητα. Αναπαριστά μία εποπτευόμενη δομή.

**Πεδία:**
- Μοναδικός κωδικός (αυτόματος ή χειροκίνητος)
- Τύπος δομής (ΜΦΗ, ΚΔΑΠ, ΣΥΔ, κλπ. — από configurable λίστα)
- Επωνυμία
- Διεύθυνση (οδός, αριθμός, πόλη, ΤΚ)
- Νόμιμος εκπρόσωπος (ονοματεπώνυμο, ΑΦΜ, τηλέφωνο, email)
- Δυναμικότητα (αριθμός θέσεων/ωφελουμένων)
- Κατάσταση λειτουργίας (Ενεργή, Αναστολή, Ανάκληση, Κλειστή)
- Ιδιοκτησιακό καθεστώς (Δημόσια, Ιδιωτική κερδοσκοπική, Ιδιωτική μη κερδοσκοπική, ΝΠΔΔ, ΝΠΙΔ)
- Ημερομηνία αρχικής αδειοδότησης
- Ημερομηνία λήξης τρέχουσας άδειας
- Αριθμός πρωτοκόλλου άδειας
- Ανατεθειμένος κοινωνικός σύμβουλος (σύνδεση με User)
- Σημειώσεις / Παρατηρήσεις (ελεύθερο κείμενο)
- Ημερομηνία εγγραφής στο σύστημα
- Τελευταία τροποποίηση

### 4.2 Επιτροπή Ελέγχου (InspectionCommittee)

Αναπαριστά μία επιτροπή που ορίζεται για τον έλεγχο δομών.

**Πεδία:**
- Αριθμός απόφασης ορισμού
- Ημερομηνία ορισμού
- Ημερομηνία λήξης θητείας (αν υπάρχει)
- Κατάσταση (Ενεργή, Ολοκληρωμένη, Ακυρωμένη)
- Σημειώσεις

**Συσχετίσεις:**
- Μέλη: Πολλά-προς-Πολλά με User (μέσω ενδιάμεσου πίνακα CommitteeMembership με ρόλο: Πρόεδρος, Μέλος, Γραμματέας)
- Δομές: Πολλά-προς-Πολλά με Structure (μία επιτροπή μπορεί να ελέγχει πολλές δομές, μία δομή μπορεί να ελεγχθεί από διαφορετικές επιτροπές σε διαφορετικές χρονικές περιόδους)

### 4.3 Έλεγχος (Inspection)

Αναπαριστά έναν συγκεκριμένο έλεγχο που διενεργήθηκε σε μία δομή.

**Πεδία:**
- Τύπος ελέγχου (Τακτικός, Έκτακτος, Επανέλεγχος)
- Ημερομηνία διενέργειας
- Δομή (σύνδεση με Structure)
- Επιτροπή (σύνδεση με InspectionCommittee)
- Κατάσταση (Προγραμματισμένος, Ολοκληρωμένος, Ακυρωμένος)
- Γενικό συμπέρασμα (Κανονική λειτουργία, Παρατηρήσεις, Σοβαρές παραβάσεις)
- Σημειώσεις

### 4.4 Πρακτικό Ελέγχου (InspectionReport)

Το έγγραφο/αρχείο που παράγει η επιτροπή μετά τον έλεγχο.

**Πεδία:**
- Σύνδεση με Inspection (ένας έλεγχος → ένα πρακτικό)
- Αριθμός πρωτοκόλλου πρακτικού
- Ημερομηνία σύνταξης
- Τρόπος υποβολής:
  - **Ανέβασμα αρχείου** (PDF/DOCX) — η απλή μορφή
  - **Δομημένη φόρμα** (μελλοντική ωρίμανση) — πεδία ανά κατηγορία ελέγχου
- Ευρήματα (ελεύθερο κείμενο ή/και δομημένα πεδία)
- Προτάσεις/Συστάσεις
- Κατάσταση (Πρόχειρο, Υποβληθέν, Εγκεκριμένο)
- Υποβληθέν από (User)
- Ημερομηνία υποβολής

### 4.5 Έκθεση Αξιολόγησης Κοινωνικού Συμβούλου (SocialAdvisorReport)

Η έκθεση που γράφει ο κοινωνικός λειτουργός υπό τον ρόλο του κοινωνικού συμβούλου.

**Πεδία:**
- Σύνδεση με Structure
- Σύνδεση με Inspection (προαιρετική — η έκθεση μπορεί να είναι ανεξάρτητη)
- Συντάκτης (User — ο κοινωνικός σύμβουλος)
- Ημερομηνία σύνταξης
- Τύπος (Τακτική αξιολόγηση, Έκτακτη αξιολόγηση, Αναφορά συμβάντος)
- Τρόπος υποβολής:
  - **Ανέβασμα αρχείου** (PDF/DOCX) — η απλή μορφή
  - **Δομημένη φόρμα** (μελλοντική ωρίμανση):
    - Αξιολόγηση ποιότητας φροντίδας
    - Αξιολόγηση συνθηκών διαβίωσης
    - Αξιολόγηση τήρησης προδιαγραφών
    - Αξιολόγηση στελέχωσης
    - Γενική αξιολόγηση / Βαθμολογία
- Σχόλια / Προτάσεις βελτίωσης
- Κατάσταση (Πρόχειρο, Υποβληθέν, Εγκεκριμένο, Επιστράφηκε)
- Εγκρίθηκε από (User — ο Προϊστάμενος)
- Ημερομηνία έγκρισης

### 4.6 Άδεια Λειτουργίας (License)

Παρακολούθηση του κύκλου ζωής αδειοδότησης.

**Πεδία:**
- Σύνδεση με Structure
- Τύπος (Αρχική, Ανανέωση, Τροποποίηση)
- Αριθμός πρωτοκόλλου
- Ημερομηνία έκδοσης
- Ημερομηνία λήξης
- Κατάσταση (Ενεργή, Λήγουσα, Ληγμένη, Ανακληθείσα)
- Σχετικά έγγραφα (αρχεία)
- Σημειώσεις

### 4.7 Κύρωση / Πρόστιμο (Sanction)

Σύνδεση (προαιρετική) με το ήδη υπάρχον σύστημα προστίμων.

**Πεδία:**
- Σύνδεση με Structure
- Σύνδεση με Inspection (προαιρετική — ποιος έλεγχος οδήγησε στο πρόστιμο)
- Τύπος κύρωσης (Πρόστιμο, Αναστολή λειτουργίας, Ανάκληση άδειας, Σύσταση)
- Ποσό προστίμου (αν εφαρμόζεται)
- Ημερομηνία επιβολής
- Κατάσταση (Επιβληθείσα, Εξοφληθείσα, Σε ένσταση, Ακυρωθείσα)
- Αριθμός πρωτοκόλλου
- Σημειώσεις

> **Σημείωση:** Ήδη υπάρχει πλατφόρμα καταχώρησης προστίμων. Σε πρώτη φάση αρκεί η απλή καταγραφή στο σύστημα. Σε μελλοντική φάση μπορεί να γίνει API σύνδεση με την υφιστάμενη πλατφόρμα.

---

## 5. Ροές Εργασίας (Workflows)

### 5.1 Εγγραφή Δομής στο Μητρώο

```
Διοικητικός/Γραμματεία → Εγγραφή νέας δομής → Συμπλήρωση στοιχείων →
→ Ανάρτηση εγγράφων αδειοδότησης → Ανάθεση κοινωνικού συμβούλου →
→ Δομή εμφανίζεται στο μητρώο ως "Ενεργή"
```

### 5.2 Ορισμός Επιτροπής Ελέγχου

```
Διοικητικός → Δημιουργία επιτροπής → Ορισμός μελών (Πρόεδρος, Μέλη, Γραμματέας) →
→ Ανάθεση δομών προς έλεγχο → Επιτροπή εμφανίζεται ως "Ενεργή" →
→ Τα μέλη βλέπουν τις υποχρεώσεις τους
```

### 5.3 Κύκλος Ελέγχου

```
Έλεγχος προγραμματίζεται (αυτόματα ή χειροκίνητα) →
→ Επιτροπή διενεργεί τον έλεγχο →
→ Μέλος επιτροπής καταχωρεί πρακτικό ελέγχου (upload ή φόρμα) →
→ Κοινωνικός σύμβουλος γράφει έκθεση αξιολόγησης →
→ Προϊστάμενος εγκρίνει ή επιστρέφει τα έγγραφα →
→ Αν υπάρχουν παραβάσεις → Κύρωση / Πρόστιμο
```

### 5.4 Κύκλος Αδειοδότησης

```
Σύστημα ειδοποιεί: "Η άδεια της δομής Χ λήγει σε Ν μήνες" →
→ Διοικητικός ελέγχει αν υπάρχουν όλοι οι απαιτούμενοι έλεγχοι/εκθέσεις →
→ Αν ναι → Ανανέωση άδειας → Νέα ημερομηνία λήξης →
→ Αν όχι → Εκκρεμότητα (η δομή εμφανίζεται ως "Άδεια εκκρεμεί")
```

### 5.5 Κύκλος Κυρώσεων

```
Από πρακτικό ελέγχου ή έκθεση αξιολόγησης → Εντοπισμός παράβασης →
→ Εισήγηση κύρωσης → Έκδοση απόφασης (Πρόστιμο / Αναστολή / Ανάκληση) →
→ Καταγραφή στο σύστημα → Σύνδεση με δομή και έλεγχο →
→ Παρακολούθηση κατάστασης (εξόφληση, ένσταση)
```

---

## 6. Οθόνες και Διεπαφές (Screens)

### 6.1 Μητρώο Δομών (Λίστα)

Κεντρική οθόνη λίστας δομών με:
- Φίλτρα: τύπος δομής, κατάσταση, κοινωνικός σύμβουλος, κατάσταση άδειας
- Αναζήτηση κατά επωνυμία ή κωδικό
- Στήλες: Κωδικός, Επωνυμία, Τύπος, Κατάσταση, Λήξη άδειας, Κοιν. Σύμβουλος, Τελ. Έλεγχος
- Χρωματική κωδικοποίηση: κόκκινο αν η άδεια λήγει σε <3 μήνες, πορτοκαλί αν <6 μήνες
- Κουμπί "Νέα Δομή"

### 6.2 Κάρτα Δομής (Detail View)

Αναλυτική σελίδα μεμονομένης δομής με τμήματα:
- **Επικεφαλίδα:** Επωνυμία, τύπος, κατάσταση, κοινωνικός σύμβουλος
- **Στοιχεία δομής:** Διεύθυνση, εκπρόσωπος, δυναμικότητα, ιδιοκτησιακό
- **Αδειοδότηση:** Τρέχουσα άδεια, ιστορικό αδειών, ημερομηνία λήξης
- **Ιστορικό ελέγχων:** Χρονολογικά — κάθε έλεγχος με πρακτικό και αποτέλεσμα
- **Εκθέσεις αξιολόγησης:** Χρονολογικά — κάθε έκθεση κοινωνικού συμβούλου
- **Κυρώσεις:** Πρόστιμα, αναστολές, με κατάσταση
- **Timeline:** Χρονολογική ροή όλων των ενεργειών (ελέγχων, εκθέσεων, αδειών, κυρώσεων)

### 6.3 Φόρμα Καταχώρησης Πρακτικού Ελέγχου

- Αυτόματη σύνδεση με δομή και επιτροπή
- Τύπος ελέγχου (Τακτικός, Έκτακτος, Επανέλεγχος)
- Ημερομηνία διενέργειας
- Ευρήματα (ελεύθερο κείμενο — rich text editor)
- Γενικό συμπέρασμα (dropdown)
- Προτάσεις / Συστάσεις
- Upload αρχείου πρακτικού (PDF/DOCX)
- Αποθήκευση ως Πρόχειρο ή Υποβολή

### 6.4 Φόρμα Έκθεσης Αξιολόγησης Κοινωνικού Συμβούλου

- Αυτόματη σύνδεση με δομή
- Προαιρετική σύνδεση με συγκεκριμένο έλεγχο
- Τύπος (Τακτική, Έκτακτη, Αναφορά συμβάντος)
- Ημερομηνία
- Αξιολόγηση (ελεύθερο κείμενο — rich text editor)
- Προτάσεις βελτίωσης
- Upload αρχείου (PDF/DOCX)
- Αποθήκευση ως Πρόχειρο ή Υποβολή

### 6.5 Dashboard Εποπτείας

Κεντρικός πίνακας ελέγχου με:
- **Αριθμητικά:** Σύνολο δομών, σύνολο ενεργών, σύνολο ελέγχων τρέχοντος έτους, σύνολο εκθέσεων, σύνολο κυρώσεων
- **Ειδοποιήσεις:** Άδειες που λήγουν, εκκρεμείς έλεγχοι, εκθέσεις σε αναμονή έγκρισης
- **Γραφήματα:** Έλεγχοι ανά μήνα, κατανομή δομών ανά τύπο, τάση κυρώσεων
- **Γρήγορη πρόσβαση:** Οι 5 πιο πρόσφατοι έλεγχοι, οι 5 πιο πρόσφατες εκθέσεις

### 6.6 Διαχείριση Επιτροπών

- Λίστα επιτροπών με κατάσταση
- Δημιουργία/Επεξεργασία επιτροπής
- Ανάθεση μελών (αναζήτηση χρηστών)
- Ανάθεση δομών προς έλεγχο
- Προβολή ολοκληρωμένων/εκκρεμών ελέγχων ανά επιτροπή

---

## 7. Ειδοποιήσεις (Notifications)

Το σύστημα πρέπει να στέλνει ειδοποιήσεις (in-app — ήδη υπάρχει σύστημα Notification) για:

- **Λήξη άδειας:** "Η άδεια της δομής [Χ] λήγει σε 3/6 μήνες" → προς Διοικητικό, Κοιν. Σύμβουλο
- **Νέα ανάθεση:** "Σας ανατέθηκε η δομή [Χ] ως κοινωνικός σύμβουλος" → προς Κοιν. Σύμβουλο
- **Νέος ορισμός σε επιτροπή:** "Ορισθήκατε μέλος στην επιτροπή [Υ]" → προς Μέλος
- **Υποβολή πρακτικού/έκθεσης:** "Υποβλήθηκε πρακτικό ελέγχου για τη δομή [Χ]" → προς Προϊστάμενο
- **Έγκριση/Επιστροφή:** "Η έκθεσή σας εγκρίθηκε/επιστράφηκε" → προς Κοιν. Σύμβουλο
- **Εκκρεμείς υποχρεώσεις:** "Η επιτροπή σας οφείλει Ν ελέγχους αυτό το τρίμηνο" → προς Μέλη

---

## 8. Αναφορές (Reports)

Το σύστημα πρέπει να μπορεί να παράγει τουλάχιστον:

- **Κατάσταση μητρώου:** Πίνακας με όλες τις δομές, κατάσταση αδειοδότησης, τελευταίος έλεγχος
- **Εκκρεμότητες ελέγχων:** Ποιες δομές δεν έχουν ελεγχθεί εντός του τρέχοντος κύκλου
- **Στατιστικά ελέγχων:** Αριθμός ελέγχων ανά τύπο, ανά μήνα, ανά επιτροπή, ανά τύπο δομής
- **Στατιστικά κυρώσεων:** Αριθμός, ποσά, τύποι, ανά δομή ή ανά περίοδο
- **Ετήσια απολογιστική αναφορά:** Συγκεντρωτικά στοιχεία εποπτικού έργου — αυτό χρειάζεται για απάντηση σε ερωτήματα Βουλής, ΕΕ, ΜΜΕ

Μορφή εξαγωγής: PDF και/ή XLSX.

---

## 9. Σχέση με Υπάρχοντα Υποσυστήματα

### 9.1 Σύνδεση με Αρχείο Νομοθεσίας
Στην κάρτα κάθε τύπου δομής, μπορεί να εμφανίζονται αυτόματα τα σχετικά νομοθετικά πλαίσια (π.χ. για ΜΦΗ → σχετικοί νόμοι/ΥΑ/εγκύκλιοι περί γηροκομείων). Αυτό γίνεται μέσω tags/κατηγοριών στο υπάρχον αρχείο.

### 9.2 Σύνδεση με AI Βοηθό
Ο κοινωνικός σύμβουλος ενώ γράφει έκθεση αξιολόγησης, μπορεί να ρωτήσει τον AI βοηθό: "Τι προβλέπει ο νόμος για τη δυναμικότητα ΜΦΗ;" ή "Ποια τα κριτήρια αδειοδότησης ΚΔΑΠ;" — χωρίς να φύγει από τη φόρμα.

### 9.3 Σύνδεση με Forum
Δημιουργία κατηγορίας Forum ανά τύπο δομής (π.χ. "Εποπτεία ΜΦΗ", "Αδειοδότηση ΚΔΑΠ") για ανταλλαγή εμπειριών μεταξύ κοινωνικών συμβούλων.

---

## 10. Τεχνικές Σημειώσεις για Υλοποίηση

### 10.1 Αλλαγές στο Μοντέλο Χρηστών
Το υπάρχον User model πρέπει να εμπλουτιστεί με:
- Πεδίο ρόλων (roles — πολλαπλοί ρόλοι ανά χρήστη)
- Πεδίο Περιφερειακής Ενότητας (για μελλοντικό multi-tenant)
- Πεδίο ειδικότητας/θέσης (προαιρετικό)

### 10.2 Νέα Models Βάσης Δεδομένων
Πρέπει να δημιουργηθούν:
- Structure
- StructureType (configurable τύποι δομών)
- InspectionCommittee
- CommitteeMembership (πίνακας σύνδεσης — User ↔ Committee)
- CommitteeStructureAssignment (πίνακας σύνδεσης — Committee ↔ Structure)
- Inspection
- InspectionReport
- SocialAdvisorReport
- License
- Sanction

### 10.3 Νέα API Endpoints
Σύνολο CRUD endpoints για κάθε οντότητα, συν:
- GET /api/structures — λίστα δομών με φίλτρα
- GET /api/structures/{id} — πλήρης κάρτα δομής με ιστορικό
- GET /api/structures/{id}/timeline — χρονολογική ροή ενεργειών
- GET /api/dashboard/overview — στατιστικά dashboard
- GET /api/dashboard/alerts — ειδοποιήσεις λήξεων/εκκρεμοτήτων
- GET /api/reports/{type} — παραγωγή αναφορών
- POST /api/inspections/{id}/report — υποβολή πρακτικού
- POST /api/structures/{id}/advisor-report — υποβολή έκθεσης κοινωνικού συμβούλου
- PATCH /api/reports/{id}/approve — έγκριση/επιστροφή εκθέσεων

### 10.4 Frontend — Νέες Σελίδες
- /registry → Μητρώο Δομών (λίστα)
- /registry/{id} → Κάρτα Δομής
- /registry/new → Φόρμα νέας δομής
- /inspections → Λίστα ελέγχων
- /inspections/{id}/report → Φόρμα πρακτικού
- /committees → Διαχείριση επιτροπών
- /dashboard → Dashboard εποπτείας
- /reports → Αναφορές

### 10.5 File Uploads
Το σύστημα ήδη υποστηρίζει uploads μέσω του αρχείου νομοθεσίας. Η ίδια υποδομή μπορεί να χρησιμοποιηθεί για τα αρχεία πρακτικών, εκθέσεων, και αδειών. Χρειάζεται:
- Επέκταση του upload handler για σύνδεση αρχείων με οντότητες (Inspection, SocialAdvisorReport, License)
- Κατηγοριοποίηση αρχείων ανά τύπο εγγράφου

### 10.6 Authorization / Permissions
Κρίσιμο: κάθε endpoint πρέπει να ελέγχει αν ο χρήστης έχει δικαίωμα πρόσβασης.
- Κοινωνικός σύμβουλος → μόνο τις δομές που του έχουν ανατεθεί
- Μέλος επιτροπής → μόνο τις δομές που η επιτροπή του ελέγχει
- Προϊστάμενος/Διευθυντής → πλήρη πρόσβαση
- Διοικητικός → εγγραφή/επεξεργασία δομών, ορισμός επιτροπών

---

## 11. Φάσεις Υλοποίησης (Πρόταση)

### Φάση 1 — Θεμέλια (MVP)
- Νέα database models (Structure, Inspection, InspectionReport, SocialAdvisorReport, License, InspectionCommittee, Sanction)
- Ρόλοι χρηστών (role-based access)
- CRUD API για δομές
- Οθόνη μητρώου (λίστα + κάρτα δομής)
- Upload πρακτικού ελέγχου (απλό file upload)
- Upload έκθεσης κοινωνικού συμβούλου (απλό file upload)

### Φάση 2 — Ροές Εργασίας
- Διαχείριση επιτροπών (δημιουργία, μέλη, αναθέσεις)
- Παρακολούθηση αδειοδότησης (λήξεις, ανανεώσεις)
- Κύκλος ζωής εγγράφων (Πρόχειρο → Υποβολή → Έγκριση)
- Ειδοποιήσεις (λήξεις αδειών, εκκρεμότητες)
- Καταγραφή κυρώσεων/προστίμων

### Φάση 3 — Αναφορές & Dashboard
- Dashboard εποπτείας με στατιστικά
- Αυτόματες αναφορές (PDF/XLSX)
- Timeline δομής
- Γραφήματα τάσεων

### Φάση 4 — Ωρίμανση
- Δομημένες φόρμες αντί απλού upload (πεδία ανά κατηγορία ελέγχου)
- Σύνδεση AI βοηθού με φόρμα έκθεσης (inline help)
- Σύνδεση νομοθεσίας ανά τύπο δομής (αυτόματα tags)
- Forum κατηγορίες ανά τύπο εποπτείας
- Export δεδομένων για ΕΛΣΤΑΤ/ΕΕ reporting
- Multi-tenant (πολλαπλές Π.Ε.)

---

## 12. Σύνδεση με Αναπτυξιακούς Πυλώνες

Αυτό το υποσύστημα τοποθετεί την Πύλη σε δύο πυλώνες του ΣΑΑ:

**Πυλώνας 3 (Κοινωνική Συνοχή):** Βελτίωση ποιότητας κοινωνικών υπηρεσιών μέσω αποτελεσματικότερης εποπτείας, προστασία ευάλωτων ομάδων, επαγγελματική ενδυνάμωση κοινωνικών λειτουργών.

**Πυλώνας 2 (Ψηφιακή Μετάβαση):** Ψηφιοποίηση κρατικής ρυθμιστικής λειτουργίας (αδειοδότηση, εποπτεία, κυρώσεις), δημιουργία ηλεκτρονικού μητρώου, AI σε δημόσια υπηρεσία, ιχνηλασιμότητα και λογοδοσία.

---

*Έκδοση: 1.0 — Φεβρουάριος 2026*
*Συντάκτης: Δημήτρης Παπαδόπουλος*
*Σκοπός: Input document για σχεδιασμό implementation plan*
